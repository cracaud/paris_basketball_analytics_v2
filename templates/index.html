<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
            <title>Filters</title>
            <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
            <style>
                
                img {
                    width: 75px;
                    top: 10px;
                    right: 10px;
                }
                .container-fluid {
                    margin-left: 200px;
                    max-width: 1240px;
                }
                /* The side navigation menu */
                .sidebar {
                margin: 0;
                padding: 0;
                width: 200px;
                background-color: #222e3c;
                position: fixed;
                height: 100%;
                overflow: auto;
                }

                /* Sidebar links */
                .sidebar a {
                display: block;
                color: #767f8e;
                padding: 16px;
                text-decoration: none;
                }

                /* Active/current link */
                .sidebar a.active {
                background-color: #293849;
                color: white;
                }

                /* Links on mouse-over */
                .sidebar a:hover:not(.active) {
                color: white;
                }

                /* Page content. The value of the margin-left property should match the value of the sidebar's width property */
                div.content {
                margin-left: 200px;
                padding: 1px 16px;
                height: 1000px;
                }

                /* On screens that are less than 700px wide, make the sidebar into a topbar */
                @media screen and (max-width: 700px) {
                .sidebar {
                    width: 100%;
                    height: auto;
                    position: relative;
                }
                .sidebar a {float: left;}
                div.content {margin-left: 0;}
                }

                /* On screens that are less than 400px, display the bar vertically, instead of horizontally */
                @media screen and (max-width: 400px) {
                .sidebar a {
                    text-align: center;
                    float: none;
                }
                }
            </style>
    </head>
    <body>
        <div class="sidebar">
            <a class="brand" style="margin: 0; float: none;" href="#">
                <img src="https://parisbasketball.paris/wp-content/themes/parisbb/assets/img/logo.png" /></a>
            <a class="active" href="index.html">Home</a>
            <a href="#lineups">Line-ups</a>
            <a href="#shooting">Shooting</a>
            <a href="#pizzaplot">Pizza Plot</a>
          </div>

        <div class="container-fluid">
            <div class="col-lg-12">
            <br />
                <h2 align="center">LINE-UPS</h2><br />

                    <form method="POST" action="/">

                        <h5 class="mb-1 mt-2">On Court</h5>

                        <div class="row">
                            <div class="col-sm">
                                <select name="search_filter_player1" id="search_filter_player1" class="form-control">
                                    <option value="">Player 1</option>';
                                        {% for row in player_id %}
                                    <option value="{{row[0]}}">{{row[0]}}</option>';    
                                        {% endfor %}
                                </select>
                                <input type="hidden" name="hidden_value_player1" id="hidden_value_player1" />
                            </div>

                            <div class="col-sm">
                                <select name="search_filter_player2" id="search_filter_player2" class="form-control">
                                    <option value="">Player 2</option>';
                                        {% for row in player_id %}
                                    <option value="{{row[0]}}">{{row[0]}}</option>';    
                                        {% endfor %}  
                                </select>
                                <input type="hidden" name="hidden_value_player2" id="hidden_value_player2" />
                            </div>

                            <div class="col-sm">
                                <select name="search_filter_player3" id="search_filter_player3" class="form-control">
                                    <option value="">Player 3</option>';
                                        {% for row in player_id %}
                                    <option value="{{row[0]}}">{{row[0]}}</option>';    
                                        {% endfor %}  
                                </select>
                                <input type="hidden" name="hidden_value_player3" id="hidden_value_player3" />
                            </div>

                            <div class="col-sm">
                                <select name="search_filter_player4" id="search_filter_player4" class="form-control">
                                    <option value="">Player 4</option>';
                                        {% for row in player_id %}
                                    <option value="{{row[0]}}">{{row[0]}}</option>';    
                                        {% endfor %}  
                                </select>
                                <input type="hidden" name="hidden_value_player4" id="hidden_value_player4" />
                            </div>

                            <div class="col-sm">
                                <select name="search_filter_player5" id="search_filter_player5" class="form-control">
                                    <option value="">Player 5</option>';
                                        {% for row in player_id %}
                                    <option value="{{row[0]}}">{{row[0]}}</option>';    
                                        {% endfor %}  
                                </select>
                                <input type="hidden" name="hidden_value_player5" id="hidden_value_player5" />
                            </div>
                        </div>

                        <h5 class="mb-1 mt-2">Off Court</h5>

                        <div class="row">
                            <div class="col-sm">
                                <select name="search_filter_player6" id="search_filter_player6" class="form-control">
                                    <option value="">Player 6</option>';
                                        {% for row in player_id %}
                                    <option value="{{row[0]}}">{{row[0]}}</option>';    
                                        {% endfor %}
                                </select>
                                <input type="hidden" name="hidden_value_player6" id="hidden_value_player6" />
                            </div>

                            <div class="col-sm">
                                <select name="search_filter_player7" id="search_filter_player7" class="form-control">
                                    <option value="">Player 7</option>';
                                        {% for row in player_id %}
                                <option value="{{row[0]}}">{{row[0]}}</option>';    
                                        {% endfor %}  
                                </select>
                                <input type="hidden" name="hidden_value_player7" id="hidden_value_player7" />
                            </div>

                            <div class="col-sm">
                                <select name="search_filter_player8" id="search_filter_player8" class="form-control">
                                    <option value="">Player 8</option>';
                                        {% for row in player_id %}
                                    <option value="{{row[0]}}">{{row[0]}}</option>';    
                                        {% endfor %}  
                                </select>
                                <input type="hidden" name="hidden_value_player8" id="hidden_value_player8" />
                            </div>

                            <div class="col-sm">
                                <select name="search_filter_player9" id="search_filter_player9" class="form-control">
                                    <option value="">Player 9</option>';
                                        {% for row in player_id %}
                                    <option value="{{row[0]}}">{{row[0]}}</option>';    
                                        {% endfor %}  
                                </select>
                                <input type="hidden" name="hidden_value_player9" id="hidden_value_player9" />
                            </div>

                            <div class="col-sm">
                                <select name="search_filter_player10" id="search_filter_player10" class="form-control">
                                    <option value="">Player 10</option>';
                                        {% for row in player_id %}
                                    <option value="{{row[0]}}">{{row[0]}}</option>';    
                                        {% endfor %}  
                                </select>
                                <input type="hidden" name="hidden_value_player10" id="hidden_value_player10" />
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-sm">
                                <h5 class="mb-1 mt-2">Competitions</h5>
                                    <select multiple class="form-control" name="search_filter_competition" id="search_filter_competition">
                                        <option selected value="">All</option>
                                        <option value="PROA">Pro A</option>
                                        <option value="EUROCUP">Eurocup</option>
                                        <option value="CUP">French Cup</option>
                                        <option value="FRIENDLY">Friendly</option>
                                    </select>
                                    <input type="hidden" name="hidden_value_competition" id="hidden_value_competition" />
                            </div>

                            <div class="col-sm">
                                <h5 class="mb-1 mt-2">Home / Away</h5>
                                    <select multiple class="form-control" name="search_filter_location" id="search_filter_location">
                                        <option selected value="">All</option>
                                        <option value="Home">Home</option>
                                        <option value="Away">Away</option>
                                        <option value="Neutral">Neutral</option>
                                    </select>  
                                    <input type="hidden" name="hidden_value_location" id="hidden_value_location" />
                            </div>

                            <div class="col-sm">
                                <h5 class="mb-1 mt-2">Game result</h5>
                                    <select multiple class="form-control" name="search_filter_result" id="search_filter_result">
                                        <option value="win">Win</option>
                                        <option value="loss">Loss</option>
                                    </select>  
                                    <input type="hidden" name="hidden_value_result" id="hidden_value_result" />
                            </div>

                            <div class="col-sm">
                                    <h5 class="mb-1 mt-2">Dates</h5>
                                <div>
                                    <label for="start">From:</label>
                                    <input type="date" id="start" name="start" value="2022-07-22" min="2018-01-01" max="2023-06-29">
                                </div>
                                <div>
                                    <label for="end">To:</label>
                                    <input type="date" id="end" name="end" value="2022-07-22" min="2018-01-01" max="2023-06-29">
                                </div>
                            </div>

                            <div class="text-center">
                                <button class=" btn btn-primary mb-1 mt-2" type="submit">Submit</button>
                            </div>
                </form>

            <br />
        </div>
        </div>
        <script>
            $(document).ready(function(){
                load_data();
                function load_data()
                {
                    $('.load_data').html('<div id="loading" style="" ></div>');
                    var action = 'fetch_data';
                    var player_id1 = $('#hidden_value_player1').val();
                    var player_id2 = $('#hidden_value_player2').val();
                    var player_id3 = $('#hidden_value_player3').val();
                    var player_id4 = $('#hidden_value_player4').val();
                    var player_id5 = $('#hidden_value_player5').val();
                    var player_id6 = $('#hidden_value_player6').val();
                    var player_id7 = $('#hidden_value_player7').val();
                    var player_id8 = $('#hidden_value_player8').val();
                    var player_id9 = $('#hidden_value_player9').val();
                    var player_id10 = $('#hidden_value_player10').val();
                    var competition = $('#hidden_value_competition').val();
                    var location = $('#hidden_value_location').val();
                    var result = $('#hidden_value_result').val();
                    $.ajax({
                        url:"/fetchrecords",
                        method:"POST",
                        data:{action:action, player_id1:player_id1, player_id2:player_id2, player_id3:player_id3, 
                            player_id4:player_id4, player_id5:player_id5, player_id6:player_id6, player_id7:player_id7,
                            player_id8:player_id8, player_id9:player_id9, player_id10:player_id10, competition:competition,
                        location:location, result:result},
                        success:function(data)
                        { 
                            $('.load_data').html(data);
                            $('.load_data').append(data.htmlresponse);
                        }
                    })
                }
             
                $('#search_filter').change(function(){
                    $('#hidden_value_player1').val($('#search_filter_player1').val());
                    $('#hidden_value_player2').val($('#search_filter_player2').val());
                    $('#hidden_value_player3').val($('#search_filter_player3').val());
                    $('#hidden_value_player4').val($('#search_filter_player4').val());
                    $('#hidden_value_player5').val($('#search_filter_player5').val());
                    $('#hidden_value_player6').val($('#search_filter_player6').val());
                    $('#hidden_value_player7').val($('#search_filter_player7').val());
                    $('#hidden_value_player8').val($('#search_filter_player8').val());
                    $('#hidden_value_player9').val($('#search_filter_player9').val());
                    $('#hidden_value_player10').val($('#search_filter_player10').val());
                    $('#hidden_value_competition').val($('#search_filter_competition').val());
                    $('#hidden_value_location').val($('#search_filter_location').val());
                    $('#hidden_value_result').val($('#search_filter_result').val());
                    var player_id1 = $('#hidden_value_player1').val();
                    var player_id2 = $('#hidden_value_player2').val();
                    var player_id3 = $('#hidden_value_player3').val();
                    var player_id4 = $('#hidden_value_player4').val();
                    var player_id5 = $('#hidden_value_player5').val();
                    var player_id6 = $('#hidden_value_player6').val();
                    var player_id7 = $('#hidden_value_player7').val();
                    var player_id8 = $('#hidden_value_player8').val();
                    var player_id9 = $('#hidden_value_player9').val();
                    var player_id10 = $('#hidden_value_player10').val();
                    var competition = $('#hidden_value_competition').val();
                    var location = $('#hidden_value_location').val();
                    var result = $('#hidden_value_result').val();
                    load_data();
                });
                 
            });

            </script>
            <style>
                /* CSS styling for the table */
                table {
                    width: 90%;
                    border-collapse: collapse;
                    margin-left: auto;
                    margin-right: auto;
                    font-size: small;
                }
        
                th, td {
                    border: 1px solid black;
                    padding: 8px;
                    text-align: center;
                }
        
                /* Add additional styling as needed */
            </style>
        <table>
            <tr>
                <th>Line-up</th>
                <th>Rim</th>
                <th>Paint</th>
                <th>Short 2</th>
                <th>Long 2</th>
                <th>3pts</th>
                <!-- Add more table headers for additional columns as needed -->
            </tr>
            {% for row in datalist %}
        <tr>
            <td>{{ row[0] }}</td>
            <td>{{ row[1] }}</td>
            <td>{{ row[2] }}</td>
            <td>{{ row[3] }}</td>
            <td>{{ row[4] }}</td>
            <td>{{ row[5] }}</td>
        </tr>
        {% endfor %}
        </table> 
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
</body>
</html>